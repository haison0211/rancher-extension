{"version":3,"file":"rancher-pod-metrics-1.1.0.umd.min.detail.js","mappings":"sMAGA,IAAIA,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACG,EAAOC,GAAIJ,EAAS,MAC7DA,EAAQK,SAAQF,EAAOG,QAAUN,EAAQK,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYP,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,+GCuTxEQ,MAAM,Q,GAGDA,MAAM,U,GAqBNA,MAAM,mB,SAyCkDA,MAAM,c,iCAaNA,MAAM,c,gVAjFtDC,EAAAC,YAAYC,U,kBAA3BC,EAAAA,EAAAA,aAAsCC,EAAA,CAAAC,IAAA,O,kBACtCC,EAAAA,EAAAA,oBAwJM,MAxJNC,EAwJM,C,aApJJC,EAAAA,EAAAA,oBAAsB,OAAjBT,MAAM,UAAQ,WACnBS,EAAAA,EAAAA,oBAoBM,MApBNC,EAoBM,EAnBJC,EAAAA,EAAAA,aAIEC,EAAA,CAHAZ,MAAM,QACLa,OAAQC,EAAAC,kBACRC,QAASf,EAAAgB,EAAE,mC,8BAEdN,EAAAA,EAAAA,aAIEC,EAAA,CAHAZ,MAAM,QACLa,OAAQC,EAAAI,mBACRF,QAASf,EAAAgB,EAAE,oC,8BAEdN,EAAAA,EAAAA,aAIEC,EAAA,CAHAZ,MAAM,QACLa,OAAQC,EAAAK,qBACRH,QAASf,EAAAgB,EAAE,sC,8BAEdN,EAAAA,EAAAA,aAGEC,EAAA,CAFCC,OAAQC,EAAAM,cACRJ,QAASf,EAAAgB,EAAE,+B,gCAGhBR,EAAAA,EAAAA,oBAkBM,MAlBNY,EAkBM,EAjBJV,EAAAA,EAAAA,aAIEW,EAAA,CAHC,gBAAerB,EAAAgB,EAAE,2CACjBM,SAAUC,EAAAC,MAAMC,YAChBC,KAAMH,EAAAC,MAAMG,U,6CAEfjB,EAAAA,EAAAA,aAMEW,EAAA,CALC,gBAAerB,EAAAgB,EAAE,8CACjBM,SAAUC,EAAAC,MAAMI,YAChBF,KAAMH,EAAAC,MAAMK,SACZC,MAAOjB,EAAAkB,YACP,mBAAkBlB,EAAAmB,iB,wEAErBtB,EAAAA,EAAAA,aAIEW,EAAA,CAHC,gBAAerB,EAAAgB,EAAE,4CACjBM,SAAUC,EAAAC,MAAMS,YAChBP,KAAMH,EAAAC,MAAMU,a,2DAGjB1B,EAAAA,EAAAA,oBAAsB,OAAjBT,MAAM,UAAQ,WACnBW,EAAAA,EAAAA,aAyGeyB,EAAA,CAxGZX,MAAOD,EAAAC,MACPY,KAAMpC,EAAAoC,KACN,iBAAYC,EAAA,KAAAA,EAAA,GAAAC,GAAEtC,EAAAuC,MAAM,QAASD,K,uBAE9B,IAwCM,CAvCEE,EAAAC,Y,kBADRtC,EAAAA,EAAAA,aAwCMuC,EAAA,C,MAtCJC,KAAK,OACJC,MAAO5C,EAAAgB,EAAE,wBACT6B,OAAQ,G,uBAET,IAiCgB,EAjChBnC,EAAAA,EAAAA,aAiCgBoC,EAAA,CAhCd,YAAU,OACTC,QAASlC,EAAAmC,2BACTC,KAAM1B,EAAAC,MAAM0B,KACZ,eAAa,EACb,iBAAe,EACfC,QAAQ,G,CAGE,YAAQC,EAAAA,EAAAA,SACjB,EADqBC,SAAG,CACZb,EAAAc,gBAAsC,IAApBd,EAAAe,WAAWC,O,kBAAzClD,EAAAA,EAAAA,oBAEO,OAFPmD,EAEOpB,EAAA,KAAAA,EAAA,KADL7B,EAAAA,EAAAA,oBAAyC,KAAtCT,MAAM,+BAA6B,aAEvByC,EAAAkB,e,kBAAjBpD,EAAAA,EAAAA,oBAEO,Q,MAFwBP,MAAM,aAAc4D,MAAOnB,EAAAkB,cAAc,UAExE,EAAAE,M,kBACAtD,EAAAA,EAAAA,oBAEO,Q,MAFOqD,MAAK,GAAK9C,EAAAgD,iBAAiBR,GAAKS,mB,qBACzCjD,EAAAgD,iBAAiBR,GAAKU,YAAU,EAAAC,MAK5B,eAAWZ,EAAAA,EAAAA,SACpB,EADwBC,SAAG,CACfb,EAAAc,gBAAsC,IAApBd,EAAAe,WAAWC,O,kBAAzClD,EAAAA,EAAAA,oBAEO,OAFP2D,EAEO5B,EAAA,KAAAA,EAAA,KADL7B,EAAAA,EAAAA,oBAAyC,KAAtCT,MAAM,+BAA6B,aAEvByC,EAAAkB,e,kBAAjBpD,EAAAA,EAAAA,oBAEO,Q,MAFwBP,MAAM,aAAc4D,MAAOnB,EAAAkB,cAAc,UAExE,EAAAQ,M,kBACA5D,EAAAA,EAAAA,oBAEO,Q,MAFOqD,MAAK,GAAK9C,EAAAgD,iBAAiBR,GAAKc,e,qBACzCtD,EAAAgD,iBAAiBR,GAAKe,eAAa,EAAAC,M,gFAMtC7B,EAAA8B,c,kBADRnE,EAAAA,EAAAA,aAeMuC,EAAA,C,MAbHE,MAAO5C,EAAAgB,EAAE,2BACV2B,KAAK,eACJE,OAAQ,G,CAEEpD,SAAO2D,EAAAA,EAAAA,SAOdmB,GAPqB,CAEfA,EAAMC,S,kBADdrE,EAAAA,EAAAA,aAMEsE,EAAA,C,MAJC,aAAYjC,EAAAkC,wBACZ,cAAalC,EAAAmC,yBACbC,KAAM/D,EAAAgE,UACP,eAAa,S,mIAInBnE,EAAAA,EAAAA,aAeMgC,EAAA,CAdJC,KAAK,OACJC,MAAO5C,EAAAgB,EAAE,8BACVjB,MAAM,iBACL8C,OAAQ,G,uBAET,IAQE,EARFnC,EAAAA,EAAAA,aAQEoC,EAAA,CAPA,YAAU,OACTC,QAASP,EAAAsC,iBACT7B,KAAMpC,EAAAkE,cACN,eAAa,EACb,iBAAe,EACf,gBAAc,EACd5B,QAAQ,G,gDAGbzC,EAAAA,EAAAA,aAYMgC,EAAA,CAXJC,KAAK,SACJC,MAAO5C,EAAAgB,EAAE,0BACT6B,OAAQ,G,uBAET,IAME,EANFnC,EAAAA,EAAAA,aAMEoC,EAAA,CALA,YAAU,OACTC,QAASP,EAAAwC,kBACT/B,KAAMpC,EAAAoE,eACN,eAAa,EACb,iBAAe,G,gDAGpBvE,EAAAA,EAAAA,aAaMgC,EAAA,CAZJC,KAAK,SACJC,MAAO5C,EAAAgB,EAAE,0BACT6B,OAAQ,G,uBAET,IAOE,EAPFnC,EAAAA,EAAAA,aAOEoC,EAAA,CANA,YAAU,OACTC,QAASP,EAAA0C,kBACTjC,KAAMpC,EAAAsE,eACN,eAAa,EACb,iBAAe,EACfhC,QAAQ,G,+PA3bnB,MAAMuB,EAA0B,oJAC1BC,EAA2B,sIAEjC,OACEhC,KAAM,aAENyC,MAAO,CAAC,SAERC,WAAY,CACVC,MAAK,IACLC,iBAAgB,IAChBC,iBAAgB,IAChBC,QAAO,IACPC,aAAY,IACZC,IAAG,IACHC,cAAaA,EAAAA,GAGfC,OAAQ,CAACC,EAAAA,EAAgBC,EAAAA,GAEzBxB,MAAO,CACL/C,MAAO,CACLwE,KAAUC,OACVC,UAAU,IAId,WAAMC,GACJ,GAAIC,KAAK3D,UAGP,GAFA2D,KAAKC,YAAcD,KAAKE,OAAOC,QAAQ,6BAA6BC,EAAAA,IAEhEJ,KAAKC,YAAa,CAEpB,MAAMI,EAAM,CACVC,WAAY,IAAIC,EAAAA,GAAW,CACzBC,KAAS,CAAC,CAAEC,MAAO,gBAAiBC,KAAK,IACzCC,QAASC,EAAAA,GAAsBC,kBAAkB,CAC/CJ,MAAO,gBACPrF,MAAO4E,KAAK5E,MAAM7B,QAKxByG,KAAKE,OAAOY,SAAS,mBAAoB,CAAElB,KAAMQ,EAAAA,GAAKC,OACxD,MACEL,KAAKE,OAAOY,SAAS,kBAAmB,CAAElB,KAAMQ,EAAAA,KAIpDJ,KAAK9B,kBAAoB6C,EAAAA,EAAAA,IAAmBf,KAAKE,OAAQF,KAAKgB,eAAezH,GAAI,CAAC+E,EAAyBC,UAGrGyB,KAAKiB,iBAGXjB,KAAKkB,qBACP,EAEAC,aAAAA,GAGEnB,KAAKoB,oBACP,EAEAC,IAAAA,GACE,MAAMhF,EAAY2D,KAAKE,OAAOC,QAAQ,qBAAqBC,EAAAA,IAE3D,MAAO,CACLkB,QAAkB,CAAE5D,IAAK,EAAGK,OAAQ,GACpCW,iBAAkB,CAChB,IACK6C,EAAAA,EACH/E,MAAO,GACPgF,MAAO,KAET,IACKC,EAAAA,GACHjF,MAAa,GACbkF,aAAa,IAGjB9C,kBAAmB,CACjB,IAAK+C,EAAAA,GAAaH,MAAO,MACzB,IAAKI,EAAAA,GAAYJ,MAAO,MAE1B1C,kBAAmB,CACjByC,EAAAA,EACAE,EAAAA,GACAI,EAAAA,IAEFxF,YACAyF,gBAAiB,GACjBxD,0BACAC,2BACAL,aAAiB,EACjB+B,iBAAiB8B,EAEjB5E,WAAY,IAAI6E,IAChB9E,gBAAgB,EAChBI,aAAc,KACd2E,gBAAiB,KACjBC,cAAe,EAEnB,EAEAC,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,mBAGfxF,0BAAAA,GACE,IAAKoD,KAAK3D,UAAW,MAAO,GAE5B,MAAMgG,EAAcrC,KAAKE,OAAOC,QAAQ,uBAAuBH,KAAK3D,YAAc,GAG5EiG,EAAYD,EAAYE,UAAUC,GAAgB,SAAXA,EAAEjG,MACzCkG,EAAWJ,EAAYE,UAAUC,GAAgB,QAAXA,EAAEjG,MAE9C,IAAImG,EAAcL,EAAYM,OAC1BF,GAAY,EACdC,EAAcD,EACLH,GAAa,IACtBI,EAAcJ,EAAY,GAG5B,MAAMM,EAAiB,CACrB,CACErG,KAAM,MACNC,MAAO,MACPpB,MAAO,MACPoF,KAAM,CAAC,OACPgB,MAAO,KAET,CACEjF,KAAM,SACNC,MAAO,MACPpB,MAAO,SACPoF,KAAM,CAAC,UACPgB,MAAO,MAIX,MAAO,IACFa,EAAYQ,MAAM,EAAGH,MACrBE,KACAP,EAAYQ,MAAMH,GAEzB,EAEAI,SAAAA,GACE,OAAO9C,KAAK+C,OAAOC,OAAOC,SAAW,OACvC,EAEAtH,WAAAA,GACE,MAAMuH,GAAWC,EAAAA,EAAAA,IAAenD,KAAK5E,MAAMI,YAAa,MAExD,MAAO,GAAI4H,EAAAA,GAAMF,MACnB,EAEAxI,iBAAAA,GACE,OAAOsF,KAAKqD,YAAYrD,KAAK5E,MAAMkI,gBACrC,EAEAzI,kBAAAA,GACE,OAAOmF,KAAKqD,YAAYrD,KAAK5E,MAAMmI,iBACrC,EAEAzI,oBAAAA,GACE,OAAOkF,KAAKqD,YAAYrD,KAAK5E,MAAMoI,mBACrC,EAEAzI,aAAAA,GACE,OAAOiF,KAAKqD,YAAYrD,KAAK5E,MAAMqI,YACrC,EAEA9E,aAAAA,GACE,OAAOkB,OAAO6D,KAAK1D,KAAK5E,MAAMZ,OAAOmJ,UAClCC,IAAK3J,IAAG,CACPA,IAAO+F,KAAKpF,EAAE,4BAA6BX,KAC3CmB,MAAO4E,KAAK5E,MAAMZ,OAAOmJ,SAAS1J,KAExC,EAEA4E,cAAAA,GACE,MAAMgF,EAAS7D,KAAK5E,MAAMZ,OAAOqJ,QAAU,GAE3C,OAAOA,EAAOD,IAAKE,IAAK,CAEtBvH,KAAWuH,EAAMC,MAASD,EAAMC,MAAM,IAAMD,EAAMC,MAAM,GAAM,MAC9DC,UAAWF,EAAME,YAErB,EAEAjF,cAAAA,GACE,OAAOiB,KAAK5E,MAAM6I,KAAKC,QAAU,EACnC,EAEAzF,SAAAA,GACE,MAAO,CAAE0F,SAAU,GAAInE,KAAK5E,MAAMgJ,kBACpC,GAGFC,QAAS,CACPzI,eAAAA,CAAgBR,GACd,MAAMkJ,EAAgB,CACpBC,WAAW,EACXC,UAAW,MAGb,OAAOC,EAAAA,EAAAA,IAASrJ,EAAOkJ,EACzB,EAEAjB,WAAAA,CAAYqB,GACV,OAAOA,EAAO,UAAY,OAC5B,EAEA,iBAAMC,GACJ,MAAMC,EAAS5E,KAAKE,OAAOC,QAAQ,qBAAqB0E,EAAAA,GAAOC,MAE3DF,UACI5E,KAAKE,OAAOY,SAAS,eAAgB,CACzClB,KAAMiF,EAAAA,GAAOC,KACbvL,GAAMyG,KAAK5E,MAAM7B,GACjB8G,IAAM,CAAE0E,OAAO,KAGjB/E,KAAKgF,eAET,EAGA,oBAAM/D,GAEJ,MAAMgE,EAAMC,KAAKD,MACjB,KAAIjF,KAAK9C,gBAAmB+H,EAAMjF,KAAKkC,cAAgB,KAIvD,IACElC,KAAK9C,gBAAiB,EACtB8C,KAAK1C,aAAe,KACpB0C,KAAKkC,cAAgB+C,EAErB,MAAM,gBAAEE,SAA0B,+BAC5B7D,QAAgB6D,EAAgBnF,KAAKE,OAAOkF,OAAQpF,KAAK8C,WAE/D9C,KAAK7C,WAAamE,CACpB,CAAE,MAAO+D,GACPC,EAAQD,MAAM,0CAA2CA,GACzDrF,KAAK1C,aAAe+H,EAAM1K,SAAW,wBACvC,CAAE,QACAqF,KAAK9C,gBAAiB,CACxB,CACF,EAEAgE,mBAAAA,GACMlB,KAAKiC,iBACPsD,cAAcvF,KAAKiC,iBAKrBjC,KAAKiC,gBAAkBuD,YAAY,KACjCxF,KAAKiB,kBACJ,IACL,EAEAG,kBAAAA,GACMpB,KAAKiC,kBACPsD,cAAcvF,KAAKiC,iBACnBjC,KAAKiC,gBAAkB,KAE3B,EAEAxE,gBAAAA,CAAiBgI,GACf,MAAMxL,EAAM,GAAGwL,EAAIC,UAAUC,aAAaF,EAAIC,UAAUnJ,OAClD+E,EAAUtB,KAAK7C,WAAWyI,IAAI3L,GAEpC,OAAOqH,GAAW,CAChB5D,IAAK,EACLK,OAAQ,EACRJ,WAAY,YACZK,cAAe,QAEnB,GAGF6H,aAAAA,GACE7F,KAAKoB,oBACP,G,qBCjTF,MAAM0E,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,wBCTA,IAAInC,EAAM,CACT,wCAAyC,MACzC,4CAA6C,MAC7C,oCAAqC,MACrC,wCAAyC,MACzC,iCAAkC,MAClC,qCAAsC,MACtC,sCAAuC,MACvC,0CAA2C,MAC3C,4BAA6B,MAC7B,+BAAgC,MAChC,QAAS,KACT,YAAa,MAId,SAASoC,EAAeC,GACvB,IAAI1M,EAAK2M,EAAsBD,GAC/B,OAAOE,EAAoB5M,EAC5B,CACA,SAAS2M,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAExC,EAAKqC,GAAM,CACpC,IAAII,EAAI,IAAIC,MAAM,uBAAyBL,EAAM,KAEjD,MADAI,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOzC,EAAIqC,EACZ,CACAD,EAAetC,KAAO,WACrB,OAAO7D,OAAO6D,KAAKE,EACpB,EACAoC,EAAeQ,QAAUN,EACzB5M,EAAOG,QAAUuM,EACjBA,EAAezM,GAAK,K,wFC9BhBkN,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACpN,EAAOC,GAAI,uYAAwY,KAEjb,c,wBCPA,IAAIqK,EAAM,CACT,0BAA2B,MAC3B,sBAAuB,KACvB,0BAA2B,MAC3B,4BAA6B,MAC7B,sBAAuB,MACvB,uBAAwB,OAIzB,SAASoC,EAAeC,GACvB,IAAI1M,EAAK2M,EAAsBD,GAC/B,OAAOE,EAAoB5M,EAC5B,CACA,SAAS2M,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAExC,EAAKqC,GAAM,CACpC,IAAII,EAAI,IAAIC,MAAM,uBAAyBL,EAAM,KAEjD,MADAI,EAAEE,KAAO,mBACHF,CACP,CACA,OAAOzC,EAAIqC,EACZ,CACAD,EAAetC,KAAO,WACrB,OAAO7D,OAAO6D,KAAKE,EACpB,EACAoC,EAAeQ,QAAUN,EACzB5M,EAAOG,QAAUuM,EACjBA,EAAezM,GAAK,K","sources":["webpack://rancher-pod-metrics-1.1.0/./detail/node.vue?0869","webpack://rancher-pod-metrics-1.1.0/./detail/node.vue","webpack://rancher-pod-metrics-1.1.0/./detail/node.vue?bdb5","webpack://rancher-pod-metrics-1.1.0/./.shell/promptRemove/ sync ^\\.\\/.*$","webpack://rancher-pod-metrics-1.1.0/./detail/node.vue?2c8e","webpack://rancher-pod-metrics-1.1.0/./.shell/assets/brand/ sync ^\\.\\/.*\\/metadata\\.json$"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./node.vue?vue&type=style&index=0&id=7bed8d02&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1db835d4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport ConsumptionGauge from '@shell/components/ConsumptionGauge';\nimport Alert from '@shell/components/Alert';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport {\n  EFFECT,\n  IMAGE_SIZE,\n  KEY,\n  SIMPLE_NAME,\n  VALUE\n} from '@shell/config/table-headers';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport { METRIC, POD } from '@shell/config/types';\nimport createEditView from '@shell/mixins/create-edit-view';\nimport { formatSi, exponentNeeded, UNITS } from '@shell/utils/units';\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport { mapGetters } from 'vuex';\nimport { allDashboardsExist } from '@shell/utils/grafana';\nimport Loading from '@shell/components/Loading';\nimport metricPoller from '@shell/mixins/metric-poller';\nimport { FilterArgs, PaginationParamFilter } from '@shell/types/store/pagination.types';\n\nconst NODE_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-node-detail-1/rancher-node-detail?orgId=1';\nconst NODE_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-node-1/rancher-node?orgId=1';\n\nexport default {\n  name: 'DetailNode',\n\n  emits: ['input'],\n\n  components: {\n    Alert,\n    ConsumptionGauge,\n    DashboardMetrics,\n    Loading,\n    ResourceTabs,\n    Tab,\n    ResourceTable,\n  },\n\n  mixins: [createEditView, metricPoller],\n\n  props: {\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  async fetch() {\n    if (this.podSchema) {\n      this.filterByApi = this.$store.getters[`cluster/paginationEnabled`](POD);\n\n      if (this.filterByApi) {\n        // Only get pods associated with this node. The actual values used are from a get all in node model `pods` getter (this works as it just gets all...)\n        const opt = { // Of type ActionFindPageArgs\n          pagination: new FilterArgs({\n            sort:    [{ field: 'metadata.name', asc: true }],\n            filters: PaginationParamFilter.createSingleField({\n              field: 'spec.nodeName',\n              value: this.value.id,\n            })\n          })\n        };\n\n        this.$store.dispatch(`cluster/findPage`, { type: POD, opt });\n      } else {\n        this.$store.dispatch('cluster/findAll', { type: POD });\n      }\n    }\n\n    this.showMetrics = await allDashboardsExist(this.$store, this.currentCluster.id, [NODE_METRICS_DETAIL_URL, NODE_METRICS_SUMMARY_URL]);\n    \n    // Load pod metrics\n    await this.loadPodMetrics();\n    \n    // Start polling\n    this.startMetricsPolling();\n  },\n\n  beforeUnmount() {\n    // CRITICAL: Stop polling when component is destroyed\n    // This prevents polling from continuing when navigating away from Node Detail\n    this.stopMetricsPolling();\n  },\n\n  data() {\n    const podSchema = this.$store.getters['cluster/schemaFor'](POD);\n\n    return {\n      metrics:          { cpu: 0, memory: 0 },\n      infoTableHeaders: [\n        {\n          ...KEY,\n          label: '',\n          width: 200\n        },\n        {\n          ...VALUE,\n          label:       '',\n          dashIfEmpty: true,\n        }\n      ],\n      imageTableHeaders: [\n        { ...SIMPLE_NAME, width: null },\n        { ...IMAGE_SIZE, width: 100 } // Ensure one header has a size, all other columns will scale\n      ],\n      taintTableHeaders: [\n        KEY,\n        VALUE,\n        EFFECT\n      ],\n      podSchema,\n      podTableHeaders: [], // Will be computed with metrics headers\n      NODE_METRICS_DETAIL_URL,\n      NODE_METRICS_SUMMARY_URL,\n      showMetrics:     false,\n      filterByApi:     undefined,\n      // Metrics state\n      metricsMap: new Map(),\n      metricsLoading: false,\n      metricsError: null,\n      refreshInterval: null,\n      lastFetchTime: 0, // Track last fetch to prevent duplicate requests\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    \n    // Pod table headers with CPU/RAM metrics columns\n    podTableHeadersWithMetrics() {\n      if (!this.podSchema) return [];\n      \n      const baseHeaders = this.$store.getters['type-map/headersFor'](this.podSchema) || [];\n      \n      // Find position: after Node, before Age\n      const nodeIndex = baseHeaders.findIndex(h => h.name === 'node');\n      const ageIndex = baseHeaders.findIndex(h => h.name === 'age');\n      \n      let insertIndex = baseHeaders.length;\n      if (ageIndex >= 0) {\n        insertIndex = ageIndex;\n      } else if (nodeIndex >= 0) {\n        insertIndex = nodeIndex + 1;\n      }\n      \n      const metricsHeaders = [\n        {\n          name: 'cpu',\n          label: 'CPU',\n          value: 'cpu',\n          sort: ['cpu'],\n          width: 120\n        },\n        {\n          name: 'memory',\n          label: 'RAM',\n          value: 'memory',\n          sort: ['memory'],\n          width: 120\n        }\n      ];\n      \n      return [\n        ...baseHeaders.slice(0, insertIndex),\n        ...metricsHeaders,\n        ...baseHeaders.slice(insertIndex)\n      ];\n    },\n    \n    clusterId() {\n      return this.$route.params.cluster || 'local';\n    },\n    \n    memoryUnits() {\n      const exponent = exponentNeeded(this.value.ramReserved, 1024);\n\n      return `${ UNITS[exponent] }iB`;\n    },\n\n    pidPressureStatus() {\n      return this.mapToStatus(this.value.isPidPressureOk);\n    },\n\n    diskPressureStatus() {\n      return this.mapToStatus(this.value.isDiskPressureOk);\n    },\n\n    memoryPressureStatus() {\n      return this.mapToStatus(this.value.isMemoryPressureOk);\n    },\n\n    kubeletStatus() {\n      return this.mapToStatus(this.value.isKubeletOk);\n    },\n\n    infoTableRows() {\n      return Object.keys(this.value.status.nodeInfo)\n        .map((key) => ({\n          key:   this.t(`node.detail.tab.info.key.${ key }`),\n          value: this.value.status.nodeInfo[key]\n        }));\n    },\n\n    imageTableRows() {\n      const images = this.value.status.images || [];\n\n      return images.map((image) => ({\n        // image.names[1] typically has the user friendly name but on occasion there's only one name and we should use that\n        name:      image.names ? (image.names[1] || image.names[0]) : '---',\n        sizeBytes: image.sizeBytes\n      }));\n    },\n\n    taintTableRows() {\n      return this.value.spec.taints || [];\n    },\n\n    graphVars() {\n      return { instance: `${ this.value.internalIp }:9796` };\n    }\n  },\n\n  methods: {\n    memoryFormatter(value) {\n      const formatOptions = {\n        addSuffix: false,\n        increment: 1024,\n      };\n\n      return formatSi(value, formatOptions);\n    },\n\n    mapToStatus(isOk) {\n      return isOk ? 'success' : 'error';\n    },\n\n    async loadMetrics() {\n      const schema = this.$store.getters['cluster/schemaFor'](METRIC.NODE);\n\n      if (schema) {\n        await this.$store.dispatch('cluster/find', {\n          type: METRIC.NODE,\n          id:   this.value.id,\n          opt:  { force: true }\n        });\n\n        this.$forceUpdate();\n      }\n    },\n    \n    // Pod metrics methods\n    async loadPodMetrics() {\n      // Prevent duplicate requests within 2 seconds\n      const now = Date.now();\n      if (this.metricsLoading || (now - this.lastFetchTime < 2000)) {\n        return;\n      }\n      \n      try {\n        this.metricsLoading = true;\n        this.metricsError = null;\n        this.lastFetchTime = now;\n        \n        const { fetchPodMetrics } = await import('../utils/metrics');\n        const metrics = await fetchPodMetrics(this.$store.$axios, this.clusterId);\n        \n        this.metricsMap = metrics;\n      } catch (error) {\n        console.error('[NodeDetail] Error loading pod metrics:', error);\n        this.metricsError = error.message || 'Failed to load metrics';\n      } finally {\n        this.metricsLoading = false;\n      }\n    },\n    \n    startMetricsPolling() {\n      if (this.refreshInterval) {\n        clearInterval(this.refreshInterval);\n      }\n      \n      // Poll every 30s (reduced from 10s to minimize API spam)\n      // Pods metrics don't change as frequently as we poll\n      this.refreshInterval = setInterval(() => {\n        this.loadPodMetrics();\n      }, 30000); // 30s interval (was 10000)\n    },\n    \n    stopMetricsPolling() {\n      if (this.refreshInterval) {\n        clearInterval(this.refreshInterval);\n        this.refreshInterval = null;\n      }\n    },\n    \n    getMetricsForPod(pod) {\n      const key = `${pod.metadata?.namespace}/${pod.metadata?.name}`;\n      const metrics = this.metricsMap.get(key);\n      \n      return metrics || { \n        cpu: 0, \n        memory: 0, \n        cpuDisplay: '0.00 vCPU', \n        memoryDisplay: '0 MiB' \n      };\n    }\n  },\n  \n  beforeDestroy() {\n    this.stopMetricsPolling();\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div\n    v-else\n    class=\"node\"\n  >\n    <div class=\"spacer\" />\n    <div class=\"alerts\">\n      <Alert\n        class=\"mr-10\"\n        :status=\"pidPressureStatus\"\n        :message=\"t('node.detail.glance.pidPressure')\"\n      />\n      <Alert\n        class=\"mr-10\"\n        :status=\"diskPressureStatus\"\n        :message=\"t('node.detail.glance.diskPressure')\"\n      />\n      <Alert\n        class=\"mr-10\"\n        :status=\"memoryPressureStatus\"\n        :message=\"t('node.detail.glance.memoryPressure')\"\n      />\n      <Alert\n        :status=\"kubeletStatus\"\n        :message=\"t('node.detail.glance.kubelet')\"\n      />\n    </div>\n    <div class=\"mt-20 resources\">\n      <ConsumptionGauge\n        :resource-name=\"t('node.detail.glance.consumptionGauge.cpu')\"\n        :capacity=\"value.cpuCapacity\"\n        :used=\"value.cpuUsage\"\n      />\n      <ConsumptionGauge\n        :resource-name=\"t('node.detail.glance.consumptionGauge.memory')\"\n        :capacity=\"value.ramReserved\"\n        :used=\"value.ramUsage\"\n        :units=\"memoryUnits\"\n        :number-formatter=\"memoryFormatter\"\n      />\n      <ConsumptionGauge\n        :resource-name=\"t('node.detail.glance.consumptionGauge.pods')\"\n        :capacity=\"value.podCapacity\"\n        :used=\"value.podConsumed\"\n      />\n    </div>\n    <div class=\"spacer\" />\n    <ResourceTabs\n      :value=\"value\"\n      :mode=\"mode\"\n      @update:value=\"$emit('input', $event)\"\n    >\n      <Tab\n        v-if=\"podSchema\"\n        name=\"pods\"\n        :label=\"t('node.detail.tab.pods')\"\n        :weight=\"4\"\n      >\n        <ResourceTable\n          key-field=\"_key\"\n          :headers=\"podTableHeadersWithMetrics\"\n          :rows=\"value.pods\"\n          :row-actions=\"false\"\n          :table-actions=\"false\"\n          :search=\"false\"\n        >\n          <!-- Custom cell formatters for CPU -->\n          <template #cell:cpu=\"{ row }\">\n            <span v-if=\"metricsLoading && metricsMap.size === 0\" class=\"text-muted\">\n              <i class=\"icon icon-spinner icon-spin\" />\n            </span>\n            <span v-else-if=\"metricsError\" class=\"text-error\" :title=\"metricsError\">\n              Error\n            </span>\n            <span v-else :title=\"`${getMetricsForPod(row).cpu} millicores`\">\n              {{ getMetricsForPod(row).cpuDisplay }}\n            </span>\n          </template>\n\n          <!-- Custom cell formatters for RAM -->\n          <template #cell:memory=\"{ row }\">\n            <span v-if=\"metricsLoading && metricsMap.size === 0\" class=\"text-muted\">\n              <i class=\"icon icon-spinner icon-spin\" />\n            </span>\n            <span v-else-if=\"metricsError\" class=\"text-error\" :title=\"metricsError\">\n              Error\n            </span>\n            <span v-else :title=\"`${getMetricsForPod(row).memory} MiB`\">\n              {{ getMetricsForPod(row).memoryDisplay }}\n            </span>\n          </template>\n        </ResourceTable>\n      </Tab>\n      <Tab\n        v-if=\"showMetrics\"\n        :label=\"t('node.detail.tab.metrics')\"\n        name=\"node-metrics\"\n        :weight=\"3\"\n      >\n        <template #default=\"props\">\n          <DashboardMetrics\n            v-if=\"props.active\"\n            :detail-url=\"NODE_METRICS_DETAIL_URL\"\n            :summary-url=\"NODE_METRICS_SUMMARY_URL\"\n            :vars=\"graphVars\"\n            graph-height=\"875px\"\n          />\n        </template>\n      </Tab>\n      <Tab\n        name=\"info\"\n        :label=\"t('node.detail.tab.info.label')\"\n        class=\"bordered-table\"\n        :weight=\"2\"\n      >\n        <ResourceTable\n          key-field=\"_key\"\n          :headers=\"infoTableHeaders\"\n          :rows=\"infoTableRows\"\n          :row-actions=\"false\"\n          :table-actions=\"false\"\n          :show-headers=\"false\"\n          :search=\"false\"\n        />\n      </Tab>\n      <Tab\n        name=\"images\"\n        :label=\"t('node.detail.tab.images')\"\n        :weight=\"1\"\n      >\n        <ResourceTable\n          key-field=\"_key\"\n          :headers=\"imageTableHeaders\"\n          :rows=\"imageTableRows\"\n          :row-actions=\"false\"\n          :table-actions=\"false\"\n        />\n      </Tab>\n      <Tab\n        name=\"taints\"\n        :label=\"t('node.detail.tab.taints')\"\n        :weight=\"0\"\n      >\n        <ResourceTable\n          key-field=\"_key\"\n          :headers=\"taintTableHeaders\"\n          :rows=\"taintTableRows\"\n          :row-actions=\"false\"\n          :table-actions=\"false\"\n          :search=\"false\"\n        />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.resources {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  & > * {\n    width: 30%;\n  }\n}\n\n.text-muted {\n  color: var(--muted);\n}\n\n.text-error {\n  color: var(--error);\n  cursor: help;\n}\n\n.icon-spin {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n</style>\n","import { render } from \"./node.vue?vue&type=template&id=7bed8d02&scoped=true\"\nimport script from \"./node.vue?vue&type=script&lang=js\"\nexport * from \"./node.vue?vue&type=script&lang=js\"\n\nimport \"./node.vue?vue&type=style&index=0&id=7bed8d02&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7bed8d02\"]])\n\nexport default __exports__","var map = {\n\t\"./management.cattle.io.fleetworkspace\": 75593,\n\t\"./management.cattle.io.fleetworkspace.vue\": 75593,\n\t\"./management.cattle.io.globalrole\": 39126,\n\t\"./management.cattle.io.globalrole.vue\": 39126,\n\t\"./management.cattle.io.project\": 11193,\n\t\"./management.cattle.io.project.vue\": 11193,\n\t\"./management.cattle.io.roletemplate\": 24093,\n\t\"./management.cattle.io.roletemplate.vue\": 24093,\n\t\"./mixin/roleDeletionCheck\": 93097,\n\t\"./mixin/roleDeletionCheck.js\": 93097,\n\t\"./pod\": 4563,\n\t\"./pod.vue\": 4563\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39989;","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".resources[data-v-7bed8d02]{display:flex;flex-direction:row;justify-content:space-between}.resources[data-v-7bed8d02]>*{width:30%}.text-muted[data-v-7bed8d02]{color:var(--muted)}.text-error[data-v-7bed8d02]{color:var(--error);cursor:help}.icon-spin[data-v-7bed8d02]{animation:spin-7bed8d02 1s linear infinite}@keyframes spin-7bed8d02{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./classic/metadata.json\": 29621,\n\t\"./csp/metadata.json\": 6471,\n\t\"./federal/metadata.json\": 91862,\n\t\"./harvester/metadata.json\": 51507,\n\t\"./rgs/metadata.json\": 48401,\n\t\"./suse/metadata.json\": 37259\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 93558;"],"names":["content","__esModule","default","module","id","locals","exports","add","class","_ctx","$fetchState","pending","_createBlock","_component_Loading","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_Alert","status","$options","pidPressureStatus","message","t","diskPressureStatus","memoryPressureStatus","kubeletStatus","_hoisted_3","_component_ConsumptionGauge","capacity","$props","value","cpuCapacity","used","cpuUsage","ramReserved","ramUsage","units","memoryUnits","memoryFormatter","podCapacity","podConsumed","_component_ResourceTabs","mode","_cache","$event","$emit","$data","podSchema","_component_Tab","name","label","weight","_component_ResourceTable","headers","podTableHeadersWithMetrics","rows","pods","search","_withCtx","row","metricsLoading","metricsMap","size","_hoisted_4","metricsError","title","_hoisted_5","getMetricsForPod","cpu","cpuDisplay","_hoisted_6","_hoisted_7","_hoisted_8","memory","memoryDisplay","_hoisted_9","showMetrics","props","active","_component_DashboardMetrics","NODE_METRICS_DETAIL_URL","NODE_METRICS_SUMMARY_URL","vars","graphVars","infoTableHeaders","infoTableRows","imageTableHeaders","imageTableRows","taintTableHeaders","taintTableRows","emits","components","Alert","ConsumptionGauge","DashboardMetrics","Loading","ResourceTabs","Tab","ResourceTable","mixins","createEditView","metricPoller","type","Object","required","fetch","this","filterByApi","$store","getters","POD","opt","pagination","FilterArgs","sort","field","asc","filters","PaginationParamFilter","createSingleField","dispatch","allDashboardsExist","currentCluster","loadPodMetrics","startMetricsPolling","beforeUnmount","stopMetricsPolling","data","metrics","KEY","width","VALUE","dashIfEmpty","SIMPLE_NAME","IMAGE_SIZE","EFFECT","podTableHeaders","undefined","Map","refreshInterval","lastFetchTime","computed","mapGetters","baseHeaders","nodeIndex","findIndex","h","ageIndex","insertIndex","length","metricsHeaders","slice","clusterId","$route","params","cluster","exponent","exponentNeeded","UNITS","mapToStatus","isPidPressureOk","isDiskPressureOk","isMemoryPressureOk","isKubeletOk","keys","nodeInfo","map","images","image","names","sizeBytes","spec","taints","instance","internalIp","methods","formatOptions","addSuffix","increment","formatSi","isOk","loadMetrics","schema","METRIC","NODE","force","$forceUpdate","now","Date","fetchPodMetrics","$axios","error","console","clearInterval","setInterval","pod","metadata","namespace","get","beforeDestroy","__exports__","render","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","resolve","___CSS_LOADER_EXPORT___","push"],"ignoreList":[],"sourceRoot":""}